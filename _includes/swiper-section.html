<div class="gradient-bg">
  <div class="gradient-text">
    <p>{{ include.slogan | default: "✈️ Bay cùng niềm vui, đi cùng Hùng Vĩ Tourist." }}</p>
  </div>
</div>

<div id="{{ include.id | default: 'special-offer' }}" class="content-index"
  style="background: 
      linear-gradient(to bottom, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.5) 100%), 
      url('{{ include.bg | default: "/img/Picture-HSL/background-3.svg" }}');
    background-size: cover;
    background-position: center;
    background-repeat: repeat;">
  
  <div class="summary">
    {{ include.title | default: "✨🔥Ưu Đãi Đặc Biệt Hôm Nay🔥✨" }}
  </div>
  
  <div class="description-content-index-sp">
    {{ include.desc | default: "🎉 Giảm giá sốc lên đến 30% cho tour hot nhất.<br>✈️ Ưu đãi vé máy bay & khách sạn trọn gói.<br>🕒 Số lượng có hạn – chỉ áp dụng hôm nay!<br>👉 Đặt ngay để không bỏ lỡ cơ hội vàng!" }}
  </div>

  {% assign hascategoryPosts = false %}
  {% assign filter_cats = include.category | split: "," %}

  <div class="swiper">
    <div class="swiper-wrapper">
      {% for post in site[include.group] limit:include.limit | default:20 %}
        {% assign match = false %}
        {% for cat in filter_cats %}
          {% if post.categories contains cat %}
            {% assign match = true %}
          {% endif %}
        {% endfor %}

        {% if match %}
        <div class="swiper-slide">
          <div class="component">
            <div class="image-container">
              {% if post.image %}
              <a href="{{ post.url | prepend: site.baseurl }}">
                <img src="{{ post.image }}" alt="{{ post.title }}" class="avatar" loading="lazy">
              </a>
              {% if post.discount %}
              <div class="promo-label">Giảm -{{ post.discount }}%</div>
              {% endif %}
              {% if post.location %}
              <div class="location-label">
                <i class="fas fa-map-marker-alt"></i> {{ post.location }}
                {% if post.transport %} | {{ post.transport }} {% endif %}
              </div>
              {% endif %}
              {% endif %}
            </div>

            {% assign raw_price = post.price | replace: ".", "" %}
            {% assign price = raw_price | plus: 0 %}
            {% assign discount = post.discount | plus: 0 %}
            {% assign discount_amount = price | times: discount | divided_by: 100 %}
            {% assign final_price = price | minus: discount_amount %}

            <a href="{{ post.url | prepend: site.baseurl }}">
              <div class="component-name">
                <div class="title-label">
                  {% if post.meta-title %}
                  {{ post["meta-title"] }} {% if post.duration %} | ⏱ {{ post.duration }} {% endif %}
                  {% else %}
                  {{ post.title }}
                  {% endif %}
                </div>
                <div class="tour-info">
                  <div class="tour-price">
                    {% if post.price %}
                    {% if post.discount %}
                    <i class="fa-solid fa-sack-dollar"></i><span class="old-price"> {{ price | format_price }}</span><br>
                    <i class="fa-solid fa-sack-dollar"></i><span class="new-price"> {{ final_price | format_price }}</span>
                    {% else %}
                    <i class="fa-solid fa-sack-dollar"></i> {{ post.price }}
                    {% endif %}
                    {% endif %}
                  </div>
                </div>
              </div>
            </a>
          </div>
        </div>
        {% assign hascategoryPosts = true %}
        {% endif %}
      {% endfor %}
    </div>
  </div>

  {% unless hascategoryPosts %}
  <div class="text-center">
    <p>Hiện danh sách dịch vụ đang được cập nhật. Quý khách vui lòng liên hệ Hùng Vĩ Tourist để được hỗ trợ chi tiết.</p>
    {% include qr-zalo.html %}
  </div>
  {% endunless %}
</div>
